# MySQL调优

## MySQL索引底层原理
MySQL支持多种索引类型，BTREE、哈希、全文索引等。

### 索引的本质
** 数据库的查找算法: **
1. 最基本的是顺序查找 Linear Search，时间复杂度O(n)，效率很低。
2. 优化的查找算法如 二分查找Binary Search、二叉树查找Binary Tree Search等，虽然速度提高了，但是对数据有要求：
二分查找要求数据有序，二叉树查找只能应用于二叉查找树上，数据本身的组织结构不可能完全满足各种数据结构（例如，理论上不可能同时将两列都按顺序进行组织）。
**所以在数据之外，数据库系统还维护着满足 特定 查找算法 的数据结构。这些数据结构以某种方式引用（指向）数据，这样就可以在这些数据结构上实现高级的查找算法，这种数据结构就是 索引。**

**一个小例子：**
![Binary_Tree](https://gitee.com/ethanjh/pictures/raw/master/binary_tree.jpg)
> 上图展示维护了一个 二叉查找树，每个节点分别包含 索引键值 和 指向对应数据记录的物理地址，这样就可以运用 二分查找 O(log<sub>2</sub>n) 进行查找。
> 但是实际的数据库系统几乎没有使用 二分查找树 或 其进化品种 红黑树 Red-Black Tree 实现的：
>> 红黑树是存储在内存中才会使用的数据结构，在大规模数据存储场景，红黑树会出现 由于树的深度过大而导致 磁盘IO过于频繁 的问题。
由于磁盘IO次数往往与树的高度成正比，所以通过某种较好的树的结构尽量减少树的高度，B树可以有多个子女，可以降低树的高度。
